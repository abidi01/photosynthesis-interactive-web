<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¡å°”æ–‡å¾ªç¯å®éªŒæ¨¡æ‹Ÿ</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
            background-color: #f5f9f5;
        }
        
        .main-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        nav {
            background: linear-gradient(to right, #2D7D46, #1B5E20);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0.75rem 1.25rem;
        }
        
        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .nav-brand {
            display: flex;
            align-items: center;
        }
        
        .nav-brand span {
            font-size: 1.5rem;
            margin-right: 0.75rem;
        }
        
        .nav-brand h1 {
            font-size: 1.25rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin: 0;
        }
        
        .nav-links {
            display: flex;
            gap: 0.25rem;
            flex-wrap: wrap;
        }
        
        .nav-item {
            color: white;
            text-decoration: none;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
            display: inline-block;
        }
        
        .nav-item:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .nav-item.active {
            background: rgba(255, 255, 255, 0.4);
        }
        
        h1 {
            color: #2e7d32;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .experiment-container {
            flex: 2;
            min-width: 300px;
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .controls {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .experiment-setup {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .flask {
            width: 100px;
            height: 150px;
            border: 2px solid #2e7d32;
            border-radius: 0 0 50px 50px;
            position: relative;
            margin-right: 20px;
            background: linear-gradient(to top, #e8f5e9 66%, transparent 66%);
            overflow: hidden;
        }
        
        .experiment-setup > div {
            font-size: 18px;
            line-height: 1.8;
        }
        
        .experiment-setup p {
            margin: 10px 0;
        }
        
        .algae-cell {
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: #4caf50;
            border-radius: 50%;
            animation: float 3s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .co2-input {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 25px;
            background-color: #9e9e9e;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 16px;
            font-weight: bold;
        }
        
        .light-source {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 20px;
            background-color: #ffeb3b;
            border-radius: 10px;
            box-shadow: 0 0 20px #ffeb3b;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
        }
        
        .results {
            margin-top: 20px;
        }
        
        .chromatography {
            width: 100%;
            height: 200px;
            border: 1px solid #ddd;
            position: relative;
            margin-top: 20px;
            background-color: #f9f9f9;
        }
        
        .compound {
            position: absolute;
            width: 80px;
            height: 40px;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .c3 { 
            background-color: #2196f3;
            z-index: 3;
        }
        .c5 { 
            background-color: #4caf50;
            z-index: 2;
        }
        .c6 { 
            background-color: #e91e63;
            z-index: 1;
        }
        
        .slider-container {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2e7d32;
        }
        
        input[type="range"] {
            width: 100%;
        }
        
        .value-display {
            font-size: 0.9em;
            color: #666;
        }
        
        button {
            background-color: #2e7d32;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        button:hover {
            background-color: #1b5e20;
        }
        
        .info-panel {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f5e9;
            border-radius: 8px;
        }
        
        .time-points {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .time-btn {
            padding: 5px 10px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav>
        <div class="nav-container">
            <div class="nav-content">
                <div class="nav-brand">
                    <span>ğŸƒ</span>
                    <h1>å…‰åˆä½œç”¨åŸç†æ¢ç´¢äº¤äº’ç½‘é¡µ</h1>
                </div>
                <div class="nav-links">
                    <a href="main.html" class="nav-item">é¦–é¡µ</a>
                    <a href="å¸Œå°”å®éªŒæ¨¡æ‹Ÿå·¥å…·.html" class="nav-item">å¸Œå°”å®éªŒ</a>
                    <a href="é˜¿å°”å†œå®éªŒæ¨¡æ‹Ÿå·¥å…·.html" class="nav-item">é˜¿å°”å†œå®éªŒ</a>
                    <a href="è´¾æ ¼é“å¤«å®éªŒæ¨¡æ‹Ÿå·¥å…·.html" class="nav-item">è´¾æ ¼é“å¤«å®éªŒ</a>
                    <a href="å…‰ååº”.html" class="nav-item">å…‰ååº”æ¨¡å‹</a>
                    <a href="é˜¿å°”å†œè™šæ‹Ÿå®éªŒå·¥å…·2.html" class="nav-item">é˜¿å°”å†œ2</a>
                    <a href="å¡å°”æ–‡å¾ªç¯å®éªŒæ¨¡æ‹Ÿå·¥å…·.html" class="nav-item active">å¡å°”æ–‡å¾ªç¯</a>
                    <a href="å…‰ååº”å’Œæš—ååº”ä¹‹é—´çš„è”ç³».html" class="nav-item">å…‰æš—ååº”è”ç³»</a>
                    <a href="å¯¹æ¥é«˜è€ƒ.html" class="nav-item">å¯¹æ¥é«˜è€ƒ</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <h1>å¡å°”æ–‡å¾ªç¯å®éªŒæ¨¡æ‹Ÿ</h1>
        
        <div class="container">
            <div class="experiment-container">
                <h2>å®éªŒè£…ç½®</h2>
                <div class="experiment-setup">
                    <div class="flask" id="flask">
                        <div class="co2-input">14COâ‚‚</div>
                        <div class="light-source">å…‰ç…§</div>
                    </div>
                    <div>
                        <p>å®éªŒææ–™ï¼šå°çƒè—»æ‚¬æµ®æ¶²</p>
                        <p>æ ‡è®°ç‰©ï¼š14Cæ ‡è®°çš„COâ‚‚</p>
                        <p>å…‰ç…§æ¡ä»¶ï¼šå……è¶³å…‰ç…§</p>
                    </div>
                </div>
                
                <h2>å®éªŒç»“æœ</h2>
                <div class="results">
                    <p>å½“å‰å…‰ç…§æ—¶é—´: <span id="currentTime">0</span> ç§’</p>
                    <div class="chromatography" id="chromatogram"></div>
                </div>
            </div>
            
            <div class="controls">
                <h2>å®éªŒæ§åˆ¶</h2>
                
                <div class="slider-container">
                    <label for="lightDuration">å…‰ç…§æ—¶é—´ (ç§’)</label>
                    <input type="range" id="lightDuration" min="0" max="30" value="0" step="0.1">
                    <span class="value-display" id="timeValue">0 ç§’</span>
                </div>
                
                <div>
                    <button id="startBtn">å¼€å§‹å®éªŒ</button>
                    <button id="stopBtn">åœæ­¢å®éªŒ</button>
                    <button id="resetBtn">é‡ç½®</button>
                </div>
                
                <div class="time-points">
                    <button class="time-btn" data-time="0.5">0.5ç§’</button>
                    <button class="time-btn" data-time="5">5ç§’</button>
                    <button class="time-btn" data-time="10">10ç§’</button>
                    <button class="time-btn" data-time="30">30ç§’</button>
                </div>
                
                <div class="info-panel">
                    <h3>å®éªŒè¯´æ˜</h3>
                    <p>æœ¬å®éªŒæ¨¡æ‹Ÿå¡å°”æ–‡ç”¨å°çƒè—»è¿›è¡Œçš„14Cæ ‡è®°å®éªŒï¼š</p>
                    <ul>
                        <li>å°†14Cæ ‡è®°çš„COâ‚‚é€šå…¥å°çƒè—»æ‚¬æµ®æ¶²</li>
                        <li>åœ¨ä¸åŒå…‰ç…§æ—¶é—´åæ€æ­»ç»†èƒå¹¶æå–åŒ–åˆç‰©</li>
                        <li>é€šè¿‡çº¸å±‚ææ³•åˆ†ç¦»å…‰åˆäº§ç‰©</li>
                        <li>æ£€æµ‹14Cæ ‡è®°åŒ–åˆç‰©çš„å‡ºç°é¡ºåº</li>
                    </ul>
                    
                    <div id="experimentInfo">
                        <p>è°ƒæ•´å…‰ç…§æ—¶é—´è§‚å¯Ÿä¸åŒæ ‡è®°åŒ–åˆç‰©çš„å‡ºç°é¡ºåºã€‚</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const lightDuration = document.getElementById('lightDuration');
        const timeValue = document.getElementById('timeValue');
        const currentTime = document.getElementById('currentTime');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const resetBtn = document.getElementById('resetBtn');
        const chromatogram = document.getElementById('chromatogram');
        const experimentInfo = document.getElementById('experimentInfo');
        const timeBtns = document.querySelectorAll('.time-btn');
        
        let isRunning = false;
        let animationId = null;
        let currentTimeValue = 0;
        
        // åˆ›å»ºå°çƒè—»ç»†èƒ
        const flask = document.getElementById('flask');
        for (let i = 0; i < 30; i++) {
            const cell = document.createElement('div');
            cell.className = 'algae-cell';
            cell.style.bottom = `${10 + Math.random() * 90}px`;
            cell.style.left = `${10 + Math.random() * 80}px`;
            cell.style.animationDelay = `${Math.random() * 2}s`;
            flask.appendChild(cell);
        }
        
        // æ›´æ–°æ˜¾ç¤ºå€¼
        lightDuration.addEventListener('input', () => {
            currentTimeValue = parseFloat(lightDuration.value);
            timeValue.textContent = `${currentTimeValue.toFixed(1)} ç§’`;
            currentTime.textContent = currentTimeValue.toFixed(1);
            updateChromatogram(currentTimeValue);
        });
        
        // æ—¶é—´ç‚¹æŒ‰é’®
        timeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const time = parseFloat(btn.dataset.time);
                lightDuration.value = time;
                currentTimeValue = time;
                timeValue.textContent = `${time} ç§’`;
                currentTime.textContent = time;
                updateChromatogram(time);
            });
        });
        
        // æ›´æ–°å±‚æç»“æœ
        function updateChromatogram(time) {
            chromatogram.innerHTML = '';
            
            if (time === 0) {
                experimentInfo.innerHTML = '<p>è°ƒæ•´å…‰ç…§æ—¶é—´è§‚å¯Ÿä¸åŒæ ‡è®°åŒ–åˆç‰©çš„å‡ºç°é¡ºåºã€‚</p>';
                return;
            }
            
            let compounds = [];
            const chromatogramWidth = chromatogram.clientWidth;
            
            if (time <= 0.5) {
                for (let i = 0; i < 5; i++) {
                    compounds.push({
                        type: 'c3',
                        label: 'C3 (3-ç£·é…¸ç”˜æ²¹é…¸)',
                        amount: 90 - i * 10,
                        position: 30 + i * 30
                    });
                }
                
                experimentInfo.innerHTML = `
                    <p><strong>${time}ç§’å®éªŒç»“æœ:</strong></p>
                    <p>90%çš„æ”¾å°„æ€§å‡ºç°åœ¨ä¸‰ç¢³åŒ–åˆç‰©(C3)ä¸­</p>
                    <p>è¿™è¡¨æ˜COâ‚‚é¦–å…ˆè¢«å›ºå®šä¸ºä¸‰ç¢³åŒ–åˆç‰©</p>
                `;
            } else if (time <= 5) {
                for (let i = 0; i < 3; i++) {
                    compounds.push({
                        type: 'c3',
                        label: 'C3',
                        amount: 40 - i * 5,
                        position: 30 + i * 40
                    });
                }
                for (let i = 0; i < 2; i++) {
                    compounds.push({
                        type: 'c5',
                        label: 'C5 (RuBP)',
                        amount: 30 - i * 5,
                        position: chromatogramWidth * 0.4 + i * 40
                    });
                }
                for (let i = 0; i < 2; i++) {
                    compounds.push({
                        type: 'c6',
                        label: 'C6 (è‘¡è„ç³–)',
                        amount: 30 - i * 5,
                        position: chromatogramWidth * 0.7 + i * 40
                    });
                }
                
                experimentInfo.innerHTML = `
                    <p><strong>${time}ç§’å®éªŒç»“æœ:</strong></p>
                    <p>æ£€æµ‹åˆ°ä¸‰ç¢³åŒ–åˆç‰©(C3)ã€äº”ç¢³åŒ–åˆç‰©(C5)å’Œå…­ç¢³ç³–(C6)</p>
                    <p>è¡¨æ˜ç¢³å›ºå®šå’Œè¿˜åŸè¿‡ç¨‹åŒæ—¶è¿›è¡Œ</p>
                `;
            } else if (time <= 10) {
                for (let i = 0; i < 2; i++) {
                    compounds.push({
                        type: 'c3',
                        label: 'C3',
                        amount: 20 - i * 5,
                        position: 30 + i * 50
                    });
                }
                for (let i = 0; i < 2; i++) {
                    compounds.push({
                        type: 'c5',
                        label: 'C5',
                        amount: 20 - i * 5,
                        position: chromatogramWidth * 0.4 + i * 50
                    });
                }
                for (let i = 0; i < 3; i++) {
                    compounds.push({
                        type: 'c6',
                        label: 'C6',
                        amount: 30 - i * 5,
                        position: chromatogramWidth * 0.7 + i * 50
                    });
                }
                
                experimentInfo.innerHTML = `
                    <p><strong>${time}ç§’å®éªŒç»“æœ:</strong></p>
                    <p>æ£€æµ‹åˆ°å¤šç§æ ‡è®°åŒ–åˆç‰©ï¼ŒåŒ…æ‹¬C3ã€C5å’ŒC6</p>
                    <p>è¡¨æ˜å®Œæ•´çš„å¡å°”æ–‡å¾ªç¯å·²ç»è¿è¡Œå¤šä¸ªå‘¨æœŸ</p>
                `;
            } else {
                for (let i = 0; i < 6; i++) {
                    compounds.push({
                        type: 'c3',
                        label: 'C3',
                        amount: 30 - i * 3,
                        position: 20 + i * 35
                    });
                }
                for (let i = 0; i < 4; i++) {
                    compounds.push({
                        type: 'c5',
                        label: 'C5',
                        amount: 30 - i * 3,
                        position: chromatogramWidth * 0.4 + i * 35
                    });
                }
                for (let i = 0; i < 7; i++) {
                    compounds.push({
                        type: 'c6',
                        label: 'C6',
                        amount: 40 - i * 3,
                        position: chromatogramWidth * 0.7 + i * 35
                    });
                }
                
                experimentInfo.innerHTML = `
                    <p><strong>${time}ç§’å®éªŒç»“æœ:</strong></p>
                    <p>æ£€æµ‹åˆ°å¤§é‡æ ‡è®°åŒ–åˆç‰©ï¼ŒC3ã€C5å’ŒC6æ•°é‡æ˜æ˜¾å¢å¤š</p>
                    <p>è¡¨æ˜ç»è¿‡é•¿æ—¶é—´å…‰ç…§ï¼Œå…‰åˆä½œç”¨äº§ç‰©å¤§é‡ç§¯ç´¯</p>
                `;
            }
            
            compounds.forEach(compound => {
                const el = document.createElement('div');
                el.className = `compound ${compound.type}`;
                el.textContent = compound.label;
                el.style.bottom = `${20 + Math.random() * 60}px`;
                el.style.left = `${compound.position}px`;
                el.style.opacity = `${compound.amount / 100}`;
                chromatogram.appendChild(el);
            });
        }
        
        // åŠ¨ç”»å¾ªç¯
        function animate() {
            if (currentTimeValue < 30) {
                currentTimeValue += 0.1;
                lightDuration.value = currentTimeValue;
                timeValue.textContent = `${currentTimeValue.toFixed(1)} ç§’`;
                currentTime.textContent = currentTimeValue.toFixed(1);
                updateChromatogram(currentTimeValue);
                animationId = requestAnimationFrame(animate);
            } else {
                isRunning = false;
            }
        }
        
        // æŒ‰é’®äº‹ä»¶
        startBtn.addEventListener('click', () => {
            if (!isRunning) {
                isRunning = true;
                animate();
            }
        });
        
        stopBtn.addEventListener('click', () => {
            isRunning = false;
            cancelAnimationFrame(animationId);
        });
        
        resetBtn.addEventListener('click', () => {
            isRunning = false;
            cancelAnimationFrame(animationId);
            currentTimeValue = 0;
            lightDuration.value = 0;
            timeValue.textContent = '0 ç§’';
            currentTime.textContent = '0';
            updateChromatogram(0);
        });
        
        // åˆå§‹æ›´æ–°
        updateChromatogram(0);
    </script>
</body>
</html>
